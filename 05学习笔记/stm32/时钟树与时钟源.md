AB均为1 然后B变为0
在这一过程中，寄存器出现了一段由于门电路运算延时产生的错误状态
![[Pasted image 20250404114857.png]]

接一个边缘触发器，给边缘触发的控制端时钟信号，避免混乱状态
![[Pasted image 20250404115809.png]]

AHB（先进高性能总线），HCLK是总线的时钟线
![[Pasted image 20250404120245.png]]

APB(先进外设总线)

定时器前面有一个倍频器，当前面的分频器/1时，倍频器x1；分频器为其他设置时，倍频器x2，使定时器保持一个较高的频率
![[Pasted image 20250404120929.png]]

PLL锁相环，起到的是倍频器的作用
![[Pasted image 20250404121453.png]]


![[Pasted image 20250404121609.png]]


当系统进入省电模式时， AHB关闭所有外设。需要检测唤醒的中断，这时候就用到了FCLK（自由运行时钟）
![[Pasted image 20250404121812.png]]

flash接口的时钟，永远来自于HSI
![[Pasted image 20250404122322.png]]

用于给USB功能提供时钟来自PLL锁相环
![[Pasted image 20250404122405.png]]

CSS时钟安全系统，在选择HSE或者PLLCLK的可以开启，可以在HSE发生故障时，切换回HSI,可以产生中断，进行紧急制动等紧急处理
![[Pasted image 20250404122530.png]]


独立的时钟树
- 时钟源是低速内部时钟LSI或低速外部时钟LSE或高速外部时钟的128分频
- 外设是RTC实时时钟与看门狗

![[Pasted image 20250404122820.png]]


MCO时钟输出功能
![[Pasted image 20250404145423.png]]
![[Pasted image 20250404145440.png]]