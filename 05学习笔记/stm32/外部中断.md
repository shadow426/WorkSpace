电平的IO引脚可以设置上下拉
电平信号进入IO口之后，会进入外部中断/事件控制器
![[Pasted image 20250404093426.png]]

中断与事件
- 中断信号到达处理器中，调用代码进行处理
- 事件信号送达相应的外设，由外设自行处理

例PB12 下降沿
上升沿12位为0 下降沿12位为1
为什么不用1个寄存器控制，因为还有软件控制把
检测到下降沿，往后面发高电平

![[Pasted image 20250404094936.png]]

通过软件模拟产生一个中断，一般不需要
![[Pasted image 20250404095508.png]]


接收到高电平之后，请求挂起寄存器对应的位置1
与中断屏蔽寄存器进与门，到NVIC(嵌套向量中断控制器 )
![[Pasted image 20250404095719.png]]



![[Pasted image 20250404100426.png]]


在进入中断执行完代码之后，请求挂起寄存器一直置1，会一直执行中断函数。所以要清除请求挂起。CubeMX已经帮忙写好

![[Pasted image 20250404101739.png]]

![[Pasted image 20250404101958.png]]

![[Pasted image 20250404103606.png]]

![[Pasted image 20250404103721.png]]

![[Pasted image 20250404103829.png]]

![[Pasted image 20250404104246.png]]

一般情况用抢占优先级多 默认4组


别的外设也有中断，大同小异
![[Pasted image 20250404104624.png]]