![[Pasted image 20250127202714.png]]

裸机
打完游戏回消息

RTOS
时间片可以设置 例如1ms
打游戏 1ms
回复信息 1ms
打游戏 1ms
......

游戏与回信息优先级相同


小明肚子疼

裸机
进中断，中断服务函数不能待很长时间
设置标志位
在while循环里面做
执行完打游戏回消息才能去医院

实时性非常差


RTOS
三个任务
去医院优先级最高
肚子疼直接去医院
坐车去医院的时候可以打游戏回消息（高优先级的事件delay的时候可以做低优先级的事情）
CPU利用率高

![[Pasted image 20250127214504.png]]

![[Pasted image 20250127214624.png]]

![[Pasted image 20250127214650.png]]

![[Pasted image 20250127214930.png]]

优先级高的任务执行，低优先级只能等，除非延时

注意点1
中断可以打断任意任务
任务是软件实现，比中断优先级低

注意点2
任务可以同优先级



#### 第二讲

1.
软件分配优先级没有限制
硬件分配优先级有限制，如stm32单片机，0-31，数字越大优先级越高

2.任务虽然不限，但是每个任务需要分配堆栈，从MCU的内存分配
![[Pasted image 20250127220329.png]]

![[Pasted image 20250127220726.png]]

![[Pasted image 20250127222131.png]]
![[Pasted image 20250127222216.png]]


#### 第三讲
![[Pasted image 20250127223353.png]]
![[Pasted image 20250127223608.png]]
![[Pasted image 20250127223800.png]]
![[Pasted image 20250127223948.png]]